<LocationMatch ^/>
   AuthType Basic
   AuthName "Login to puppetboard"
    <IfVersion < 2.4>
      Order allow,deny
      Allow from all
    </IfVersion>
    <IfVersion >= 2.4>
      Require all granted
    </IfVersion>

   AuthBasicProvider ldap
   <%- if @ldap_bind_dn -%>
   AuthLDAPBindDN "<%= @ldap_bind_dn -%>"
   <%- end -%>
   <%- if @ldap_bind_password -%>
   AuthLDAPBindPassword "<%= @ldap_bind_password -%>"
   <%- end -%>
   <%- if @ldap_url -%>
   AuthLDAPURL "<%= @ldap_url -%>"
   <%- end -%>
   <%- if @ldap_bind_authoritative -%>
   AuthLDAPBindAuthoritative <%= @ldap_bind_authoritative -%>
   <%- end -%>
   <%- if @ldap_require_group -%>
   Require ldap-group <%= @ldap_require_group_dn -%>
   <% else %>
   Require valid-user
   <% end %>

</LocationMatch>
